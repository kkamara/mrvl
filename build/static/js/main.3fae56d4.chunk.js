(this.webpackJsonpmrvl=this.webpackJsonpmrvl||[]).push([[0],{68:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var c=a(24),r=a.n(c),n=a(21),s=a(5),i=a(1),l=a.n(i),o=a(4),d=a(25),h=a(12),u=a(13),j=a(14),b=a(15),p=a(17),m=a(19),f=a(28),O=a(27),v=a(16),g=a(8),x=a.n(g),y="SEARCH_CHARACTERS_PENDING",N="SEARCH_CHARACTERS_ERROR",C="SEARCH_CHARACTERS_SUCCESS",w="GET_CHARACTERS_PENDING",k="GET_CHARACTERS_ERROR",S="GET_CHARACTERS_SUCCESS",_="GET_CHARACTER_PENDING",T="GET_CHARACTER_ERROR",R="GET_CHARACTER_SUCCESS",E=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&]+?)(&|#||$)").exec(window.location.search)||[null,""])[1].replace(/\+/g,"%20"))||null};var A=a(32),I=a.n(A),H=a(0),F=Object(s.g)((function(e){var t=e.data,a=t&&t.info?t.info.pages:0,c=E("page")?Number.parseInt(E("page")):1,r=I()("#paginate-left"),n=I()("#paginate-right"),s=!1,i=!1;(null===c||c<=1)&&(s=!0,r.prop("disabled",!0)),c===a&&(i=!0,n.prop("disabled",!0));var l="";"undefined"!==typeof t.filters&&"string"===typeof t.filters&&t.filters.length&&(l+="&".concat(t.filters));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("button",{disabled:s,onClick:function(e){s||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(c-1).concat(l))},className:"btn btn-default",id:"paginate-left",children:Object(H.jsx)("i",{className:"far fa-arrow-alt-circle-left"})}),Object(H.jsx)("div",{className:"float-right",children:Object(H.jsx)("button",{disabled:i,onClick:function(e){i||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(c+1).concat(l))},className:"btn btn-default",id:"paginate-right",children:Object(H.jsx)("i",{className:"far fa-arrow-alt-circle-right"})})})]})})),G=Object(s.g)((function(e){var t=e.character,a=e.showShortData,c=t.id,r=t.image,n=t.name,s=t.origin,l=t.species,o=t.gender,d=t.episode;return function(){var e,t=[Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("img",{className:"img-responsive",src:r,alt:""}),Object(H.jsx)("p",{children:a?Object(H.jsxs)("a",{className:"character-title",href:"/characters/".concat(c),children:["Name: ",n]}):"Name: ".concat(n)})]})];return a||t.push(Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("p",{children:["Species: ",l]}),Object(H.jsxs)("p",{children:["Origin: ","object"===typeof s&&null!==s&&s.Name?s.name:"Unknown"]}),Object(H.jsxs)("p",{children:["Gender: ",o]}),Object(H.jsxs)("p",{children:["Episodes: ",(e=d,e.length?e.map((function(t,a){var c=t.slice(1+t.lastIndexOf("/"));return a!==e.length-1&&(c+=", "),Object(H.jsx)(i.Fragment,{children:c},a)})):"N/A")]})]})),t.map((function(e,t){return Object(H.jsx)(i.Fragment,{children:e},t)}))}()})),U="mrvl".toUpperCase(),L="M5Pj4m4sIMVxGzJvOEOHwWbzl5UcOKjE",P="d997efbe0fe909454c3b596d8657e89e",D="https://gateway.marvel.com/v1",M=a(48),K=a.n(M),z=function(){return Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"sweet-loading text-center",children:Object(H.jsx)(K.a,{size:150,color:"#123abc",loading:!0})})})},J=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).pageTitle="Search | Form | ".concat(U),e.state={name:"",status:"",species:"",type:"",gender:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.handleInitialSearch()}},{key:"handleInitialSearch",value:function(){var e={name:E("name"),status:E("status"),species:E("species"),type:E("type"),gender:E("gender")};e.name?this.setNameState(e.name):delete e.name,e.status?this.setStatusState(e.status):delete e.status,e.species?this.setSpeciesState(e.species):delete e.species,e.type?this.setTypeState(e.type):delete e.type,e.gender?this.setGenderState(e.gender):delete e.gender;var t=this.getPageURI();this.searchCharacters(t,e)}},{key:"setNameState",value:function(e){this.setState({name:e})}},{key:"setStatusState",value:function(e){this.setState({status:e})}},{key:"setSpeciesState",value:function(e){this.setState({Species:e})}},{key:"setTypeState",value:function(e){this.setState({type:e})}},{key:"setGenderState",value:function(e){this.setState({gender:e})}},{key:"getPageURI",value:function(){var e=1,t=E("page");if(t)try{e=Number.parseInt(t)}catch(a){}return e}},{key:"searchCharacters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.searchCharacters(e,t)}},{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,c=t.value;this.setState(Object(d.a)({},a,c))}},{key:"__renderHeaderTags",value:function(){return Object(H.jsx)(m.a,{children:Object(H.jsx)("title",{children:this.pageTitle})})}},{key:"__renderErrors",value:function(){var e=this.props.characters.data;return e.errors?Object(H.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e.errors.map((function(e,t){return Object(H.jsxs)(i.Fragment,{children:[e," ",Object(H.jsx)("br",{})]},t)})),Object(H.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(H.jsx)("span",{"aria-hidden":"true",children:"&times"})})]}):null}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(H.jsx)(G,{character:e,showShortData:!0},t)})):Object(H.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this,t=this.props.characters,a=t.data,c=t.fetched,r=t.isLoaded,n=this.state,s=n.name,i=n.status,l=n.species,d=n.type,h=n.gender,u=null;return u=c&&r?Object(H.jsxs)("div",{className:"container",children:[Object(H.jsxs)("div",{className:"col-md-4 offset-md-4",children:[this.__renderErrors(),Object(H.jsxs)("form",{className:"card",action:"",method:"GET",onSubmit:function(){return e.searchCharacters(e.getPageURI(),Object(o.a)({},e.state))},children:[Object(H.jsx)("div",{className:"card-header",children:Object(H.jsxs)("div",{className:"card-title",children:["Search | Form",Object(H.jsx)("div",{className:"float-right",children:Object(H.jsx)("a",{href:"/",className:"btn btn-default btn-sm",children:"Home"})})]})}),Object(H.jsx)("div",{className:"card-body",children:Object(H.jsxs)("div",{className:"card-text",children:[Object(H.jsx)("div",{className:"form-group",children:Object(H.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"name",type:"text",className:"form-control",placeholder:"Name",value:s})}),Object(H.jsx)("div",{className:"form-group",children:Object(H.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"status",className:"form-control",value:i,children:[Object(H.jsx)("option",{value:"",children:"Please choose a status"}),Object(H.jsx)("option",{value:"alive",children:"Alive"}),Object(H.jsx)("option",{value:"dead",children:"Dead"}),Object(H.jsx)("option",{value:"unknown",children:"Unknown"})]})}),Object(H.jsx)("div",{className:"form-group",children:Object(H.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"species",type:"text",className:"form-control",placeholder:"Species",value:l})}),Object(H.jsx)("div",{className:"form-group",children:Object(H.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"type",type:"text",className:"form-control",placeholder:"Type",value:d})}),Object(H.jsx)("div",{className:"form-group",children:Object(H.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"gender",className:"form-control",value:h,children:[Object(H.jsx)("option",{value:"",children:"Please choose a gender"}),Object(H.jsx)("option",{value:"female",children:"Female"}),Object(H.jsx)("option",{value:"male",children:"Male"}),Object(H.jsx)("option",{value:"genderless",children:"Genderless"}),Object(H.jsx)("option",{value:"unknown",children:"Unknown"})]})})]})}),Object(H.jsxs)("div",{className:"card-footer",children:[Object(H.jsx)("a",{href:"/",className:"btn btn-default",children:Object(H.jsx)(f.a,{icon:O.a})}),Object(H.jsx)("div",{className:"float-right",children:Object(H.jsx)("input",{type:"submit",className:"btn btn-default",id:"search",value:"Submit search"})})]})]})]}),Object(H.jsx)("br",{}),Object(H.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(H.jsxs)("div",{className:"card",children:[Object(H.jsx)("div",{className:"card-header",children:Object(H.jsx)("div",{className:"card-title",children:"Search Results"})}),Object(H.jsx)("div",{className:"card-body",children:Object(H.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(H.jsx)("div",{className:"card-footer",children:Object(H.jsx)(F,{data:a})})]})})]}):!c&&r?Object(H.jsx)("div",{children:"Unknown error encountered"}):Object(H.jsx)(z,{}),Object(H.jsxs)(H.Fragment,{children:[this.__renderHeaderTags(),u]})}}]),a}(i.Component),$=Object(p.b)((function(e){return{characters:e.searchCharacters}}),(function(e){return{searchCharacters:function(t,a){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(J);var q=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={pageTitle:"Characters | ".concat(U)},e.setPageTitleState=function(t){return e.setState({pageTitle:t})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadCharacter()}},{key:"componentDidUpdate",value:function(){var e=this.props.character,t=e.data,a=e.fetched,c=e.isLoaded,r=this.state.pageTitle;a&&c&&!r.match(t.name)&&this.setPageTitleState("".concat(t.name," | ").concat(r))}},{key:"__renderHeaderTags",value:function(){var e=this.state.pageTitle;return Object(H.jsx)(m.a,{children:Object(H.jsx)("title",{children:e})})}},{key:"loadCharacter",value:function(){var e=this.props.match.params.id;this.props.getCharacter(e)}},{key:"__renderCharacter",value:function(){var e=this.props.character.data;return Object(H.jsx)(G,{character:e})}},{key:"render",value:function(){var e=this.props.character,t=e.data,a=e.fetched,c=e.isLoaded,r=null;if(a&&c){if(!t)return Object(H.jsx)(s.a,{to:"/404"});r=Object(H.jsx)("div",{className:"container",children:Object(H.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(H.jsxs)("div",{className:"card",children:[Object(H.jsx)("div",{className:"card-header",children:Object(H.jsxs)("div",{className:"card-title",children:[t.name," | Characters",Object(H.jsx)("div",{className:"float-right",children:Object(H.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(H.jsx)("div",{className:"card-body",children:Object(H.jsx)("div",{className:"card-text",children:this.__renderCharacter()})}),Object(H.jsx)("div",{className:"card-footer",children:Object(H.jsx)("a",{href:"/",className:"btn btn-default",children:Object(H.jsx)(f.a,{icon:O.a})})})]})})})}else r=!a&&c?Object(H.jsx)("div",{children:"Unknown error encountered"}):Object(H.jsx)(z,{});return Object(H.jsxs)(H.Fragment,{children:[this.__renderHeaderTags(),r]})}}]),a}(i.Component),B=Object(p.b)((function(e){return{character:e.character}}),(function(e){return{getCharacter:function(t){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(q);a(68);var V=a(18),W=a.n(V),Q=a(49),X=a.n(Q),Y=Object(u.a)((function e(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(h.a)(this,e),this._url="",this._http="",this._http=null!==t?t:W.a})),Z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(h.a)(this,a),e=t.call(this,c);var r=new URL(D+"/public/comics"),n=e.generateKeys();for(var s in n){var i=n[s];if("apiKey"===s)s="apikey";r.searchParams.append(s,i)}return W.a.get(r,{headers:{Accept:"application/json"}}).then((function(e){console.log(e.data.data)})).catch((function(e){throw console.log(e),e})),e}return Object(u.a)(a,[{key:"generateKeys",value:function(){var e={apiKey:P,ts:(new Date).getTime()};return e.hash=X()(e.ts+"4b1a1ed3899e12ef43d8a9a72494e02cf5dc89cb"+P),e}},{key:"getCharacter",value:function(e){var t="".concat(this._url,"/character/").concat(e);return W.a.get(t)}},{key:"getChars",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=null!==e&&null!=="".concat(e).match(/^\d+$/)?Number.parseInt(e):1;var t="".concat(this._url,"/character");return e&&(t+="/?page=".concat(e)),W.a.get(t)}},{key:"search",value:function(e,t){if(1>e.length)return new Promise((function(e){return e(!1)}));t=null!==t&&null!=="".concat(t).match(/^\d+$/)?Number.parseInt(t):1;var a="".concat(this._url,"/character/?page=").concat(t,"&").concat(e);return W.a.get(a)}},{key:"uriEncodeArray",value:function(e){var t="",a=0;for(var c in e){var r=e[c];null!==r&&(t+=0===a?"".concat(c,"=").concat(r):"&".concat(c,"=").concat(r),++a)}return t}},{key:"validateSearchParams",value:function(e){var t=e.name,a=e.status,c=e.species,r=e.type,n=e.gender,s=[];t&&255<=t.length&&(s.name="The name exceeds 255 character limit.");var i=["alive","dead","unknown"];a&&(255<=a.length?s.status="The status exceeds 255 character limit.":a.includes(i)||(s.status="The status must be one of ".concat(i.join(", "),"."))),c&&255<=c.length&&(s.species="The species exceeds 255 character limit."),r&&255<=r.length&&(s.type="The type exceeds 255 character limit.");var l=["female","male","genderless","unknown"];return n&&(255<=n.length?s.gender="The gender exceeds 255 character limit.":n.includes(l)||(s.gender="The gender must be one of ".concat(l.join(", "),"."))),!!s.length&&s}}]),a}(Y),ee=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).pageTitle="Home | ".concat(U),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=E("page")?Number.parseInt(E("page")):1;this.loadCharacters(e),console.log(new Z)}},{key:"loadCharacters",value:function(e){this.props.getCharacters(e)}},{key:"__renderHeaderTags",value:function(){return Object(H.jsx)(m.a,{children:Object(H.jsx)("title",{children:this.pageTitle})})}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(H.jsx)(G,{character:e,showShortData:!0},t)})):Object(H.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this.props.characters,t=e.data,a=e.fetched,c=e.isLoaded,r=null;return r=a&&c?Object(H.jsx)("div",{className:"container",children:Object(H.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(H.jsxs)("div",{className:"card",children:[Object(H.jsx)("div",{className:"card-header",children:Object(H.jsxs)("div",{className:"card-title",children:["Home",Object(H.jsx)("div",{className:"float-right",children:Object(H.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(H.jsx)("div",{className:"card-body",children:Object(H.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(H.jsx)("div",{className:"card-footer",children:Object(H.jsx)(F,{data:t})})]})})}):!a&&c?Object(H.jsx)("div",{children:"Unknown error encountered"}):Object(H.jsx)(z,{}),Object(H.jsxs)(H.Fragment,{children:[this.__renderHeaderTags(),r]})}}]),a}(i.Component),te=Object(p.b)((function(e){return{characters:e.characters}}),(function(e){return{getCharacters:function(t){return e(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(ee),ae=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={giphyImageUrl:null},e.getGiphyImage=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(L)).then((function(e){return e.json()})).then((function(e){return console.log(e.data),e.data.images.original.url})).catch((function(e){return!1}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGiphyImage();case 2:t=e.sent,this.setGiphyImage(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setGiphyImage",value:function(e){this.setState({giphyImageUrl:e})}},{key:"render",value:function(){var e=ce.container,t=this.state.giphyImageUrl;return null===t?Object(H.jsx)(z,{}):Object(H.jsx)("div",{className:"container",style:e,children:Object(H.jsxs)("div",{className:"text-center",children:[Object(H.jsx)("h2",{children:"Oops, page not found"}),t?Object(H.jsx)("img",{src:t,alt:"404_image"}):Object(H.jsx)("div",{})]})})}}]),a}(l.a.Component),ce={container:{marginTop:100}},re=ae,ne={footer:{marginTop:30}},se=function(){return Object(H.jsx)("footer",{className:"footer",style:ne.footer,children:Object(H.jsx)("div",{className:"container text-center",children:Object(H.jsxs)("span",{className:"text-muted",children:[U," \xa9 ",2022,"\xa0",Object(H.jsx)("a",{target:"_blank",href:"https://github.com/kkamara/mrvl",children:"Github"})]})})})},ie=a.p+"static/media/marvel-moving.e4ed4a95.gif",le=(a(90),{header:{marginTop:30}}),oe=function(){return Object(H.jsx)("header",{className:"header",style:le.header,children:Object(H.jsx)("div",{className:"container text-left",children:Object(H.jsx)("img",{className:"header-img",src:ie,alt:"marvel-moving.gif",onClick:function(){window.location.href="/"}})})})},de=(a(91),a(92),function(){return Object(H.jsx)("div",{id:"app",children:Object(H.jsx)(n.a,{children:Object(H.jsxs)(i.Fragment,{children:[Object(H.jsx)(oe,{}),Object(H.jsxs)(s.d,{children:[Object(H.jsx)(s.b,{path:"/",exact:!0,component:te}),Object(H.jsx)(s.b,{path:"/search",exact:!0,component:$}),Object(H.jsx)(s.b,{path:"/characters/:id",exact:!0,component:B}),Object(H.jsx)(s.b,{path:"/404",exact:!0,component:re}),Object(H.jsx)(s.a,{to:"/404"})]}),Object(H.jsx)(se,{})]})})})}),he=a(23),ue={data:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!1});case N:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case C:return Object(o.a)(Object(o.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},be={data:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!1});case k:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case S:return Object(o.a)(Object(o.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},me={data:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!1});case T:return Object(o.a)(Object(o.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case R:return Object(o.a)(Object(o.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},Oe=Object(he.b)({searchCharacters:je,characters:pe,character:fe}),ve=a(50),ge=(a(93),Object(he.a)(ve.a)),xe=Object(he.c)(Oe,ge);r.a.render(Object(H.jsx)(p.a,{store:xe,children:Object(H.jsx)(de,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.3fae56d4.chunk.js.map