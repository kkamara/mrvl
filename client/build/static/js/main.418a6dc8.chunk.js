(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var c=a(23),r=a.n(c),n=a(20),s=a(5),i=a(1),l=a.n(i),o=a(24),d=a.n(o),h=(a(34),a(58),a(4)),j=a(25),u=a(12),b=a(13),p=a(15),m=a(17),f=a(16),O=a(18),v=a(28),x=a(27),g=a(14),y=a(8),N=a.n(y),C="SEARCH_CHARACTERS_PENDING",w="SEARCH_CHARACTERS_ERROR",S="SEARCH_CHARACTERS_SUCCESS",k="GET_CHARACTERS_PENDING",_="GET_CHARACTERS_ERROR",R="GET_CHARACTERS_SUCCESS",T="GET_CHARACTER_PENDING",E="GET_CHARACTER_ERROR",A="GET_CHARACTER_SUCCESS",H=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&]+?)(&|#||$)").exec(window.location.search)||[null,""])[1].replace(/\+/g,"%20"))||null};var F=a(0),I=Object(s.g)((function(e){var t=e.data,a=t&&t.info?t.info.pages:0,c=H("page")?Number.parseInt(H("page")):1,r=d()("#paginate-left"),n=d()("#paginate-right"),s=!1,i=!1;(null===c||c<=1)&&(s=!0,r.prop("disabled",!0)),c===a&&(i=!0,n.prop("disabled",!0));var l="";"undefined"!==typeof t.filters&&"string"===typeof t.filters&&t.filters.length&&(l+="&".concat(t.filters));return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("button",{disabled:s,onClick:function(e){s||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(c-1).concat(l))},className:"btn btn-default",id:"paginate-left",children:Object(F.jsx)("i",{className:"far fa-arrow-alt-circle-left"})}),Object(F.jsx)("div",{className:"float-right",children:Object(F.jsx)("button",{disabled:i,onClick:function(e){i||(window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?page=").concat(c+1).concat(l))},className:"btn btn-default",id:"paginate-right",children:Object(F.jsx)("i",{className:"far fa-arrow-alt-circle-right"})})})]})})),G=Object(s.g)((function(e){var t=e.character,a=e.showShortData,c=t.id,r=t.image,n=t.name,s=t.origin,l=t.species,o=t.gender,d=t.episode;return function(){var e,t=[Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("img",{className:"img-responsive",src:r,alt:""}),Object(F.jsx)("p",{children:a?Object(F.jsxs)("a",{className:"character-title",href:"/characters/".concat(c),children:["Name: ",n]}):"Name: ".concat(n)})]})];return a||t.push(Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("p",{children:["Species: ",l]}),Object(F.jsxs)("p",{children:["Origin: ","object"===typeof s&&null!==s&&s.Name?s.name:"Unknown"]}),Object(F.jsxs)("p",{children:["Gender: ",o]}),Object(F.jsxs)("p",{children:["Episodes: ",(e=d,e.length?e.map((function(t,a){var c=t.slice(1+t.lastIndexOf("/"));return a!==e.length-1&&(c+=", "),Object(F.jsx)(i.Fragment,{children:c},a)})):"N/A")]})]})),t.map((function(e,t){return Object(F.jsx)(i.Fragment,{children:e},t)}))}()})),U="mrvl".toUpperCase(),L="M5Pj4m4sIMVxGzJvOEOHwWbzl5UcOKjE",D="https://mrvl.herokuapp.com/api/v1",P=a(51),M=a.n(P),z=function(){return Object(F.jsx)("div",{children:Object(F.jsx)("div",{className:"sweet-loading text-center",children:Object(F.jsx)(M.a,{size:150,color:"#123abc",loading:!0})})})},J=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).pageTitle="Search | Form | ".concat(U),e.state={name:"",status:"",species:"",type:"",gender:""},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.handleInitialSearch()}},{key:"handleInitialSearch",value:function(){var e={name:H("name"),status:H("status"),species:H("species"),type:H("type"),gender:H("gender")};e.name?this.setNameState(e.name):delete e.name,e.status?this.setStatusState(e.status):delete e.status,e.species?this.setSpeciesState(e.species):delete e.species,e.type?this.setTypeState(e.type):delete e.type,e.gender?this.setGenderState(e.gender):delete e.gender;var t=this.getPageURI();this.searchCharacters(t,e)}},{key:"setNameState",value:function(e){this.setState({name:e})}},{key:"setStatusState",value:function(e){this.setState({status:e})}},{key:"setSpeciesState",value:function(e){this.setState({Species:e})}},{key:"setTypeState",value:function(e){this.setState({type:e})}},{key:"setGenderState",value:function(e){this.setState({gender:e})}},{key:"getPageURI",value:function(){var e=1,t=H("page");if(t)try{e=Number.parseInt(t)}catch(a){}return e}},{key:"searchCharacters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.searchCharacters(e,t)}},{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,c=t.value;this.setState(Object(j.a)({},a,c))}},{key:"__renderHeaderTags",value:function(){return Object(F.jsx)(O.a,{children:Object(F.jsx)("title",{children:this.pageTitle})})}},{key:"__renderErrors",value:function(){var e=this.props.characters.data;return e.errors?Object(F.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[e.errors.map((function(e,t){return Object(F.jsxs)(i.Fragment,{children:[e," ",Object(F.jsx)("br",{})]},t)})),Object(F.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(F.jsx)("span",{"aria-hidden":"true",children:"&times"})})]}):null}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(F.jsx)(G,{character:e,showShortData:!0},t)})):Object(F.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this,t=this.props.characters,a=t.data,c=t.fetched,r=t.isLoaded,n=this.state,s=n.name,i=n.status,l=n.species,o=n.type,d=n.gender,j=null;return j=c&&r?Object(F.jsxs)("div",{className:"container",children:[Object(F.jsxs)("div",{className:"col-md-4 offset-md-4",children:[this.__renderErrors(),Object(F.jsxs)("form",{className:"card",action:"",method:"GET",onSubmit:function(){return e.searchCharacters(e.getPageURI(),Object(h.a)({},e.state))},children:[Object(F.jsx)("div",{className:"card-header",children:Object(F.jsxs)("div",{className:"card-title",children:["Search | Form",Object(F.jsx)("div",{className:"float-right",children:Object(F.jsx)("a",{href:"/",className:"btn btn-default btn-sm",children:"Home"})})]})}),Object(F.jsx)("div",{className:"card-body",children:Object(F.jsxs)("div",{className:"card-text",children:[Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"name",type:"text",className:"form-control",placeholder:"Name",value:s})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"status",className:"form-control",value:i,children:[Object(F.jsx)("option",{value:"",children:"Please choose a status"}),Object(F.jsx)("option",{value:"alive",children:"Alive"}),Object(F.jsx)("option",{value:"dead",children:"Dead"}),Object(F.jsx)("option",{value:"unknown",children:"Unknown"})]})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"species",type:"text",className:"form-control",placeholder:"Species",value:l})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("input",{onChange:this.handleFieldChange.bind(this),name:"type",type:"text",className:"form-control",placeholder:"Type",value:o})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsxs)("select",{onChange:this.handleFieldChange.bind(this),name:"gender",className:"form-control",value:d,children:[Object(F.jsx)("option",{value:"",children:"Please choose a gender"}),Object(F.jsx)("option",{value:"female",children:"Female"}),Object(F.jsx)("option",{value:"male",children:"Male"}),Object(F.jsx)("option",{value:"genderless",children:"Genderless"}),Object(F.jsx)("option",{value:"unknown",children:"Unknown"})]})})]})}),Object(F.jsxs)("div",{className:"card-footer",children:[Object(F.jsx)("a",{href:"/",className:"btn btn-default",children:Object(F.jsx)(v.a,{icon:x.a})}),Object(F.jsx)("div",{className:"float-right",children:Object(F.jsx)("input",{type:"submit",className:"btn btn-default",id:"search",value:"Submit search"})})]})]})]}),Object(F.jsx)("br",{}),Object(F.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(F.jsxs)("div",{className:"card",children:[Object(F.jsx)("div",{className:"card-header",children:Object(F.jsx)("div",{className:"card-title",children:"Search Results"})}),Object(F.jsx)("div",{className:"card-body",children:Object(F.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(F.jsx)("div",{className:"card-footer",children:Object(F.jsx)(I,{data:a})})]})})]}):!c&&r?Object(F.jsx)("div",{children:"Unknown error encountered"}):Object(F.jsx)(z,{}),Object(F.jsxs)(F.Fragment,{children:[this.__renderHeaderTags(),j]})}}]),a}(i.Component),q=Object(f.b)((function(e){return{characters:e.searchCharacters}}),(function(e){return{searchCharacters:function(t,a){return e(function(){var e=Object(g.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(J);var B=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={pageTitle:"Characters | ".concat(U)},e.setPageTitleState=function(t){return e.setState({pageTitle:t})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.loadCharacter()}},{key:"componentDidUpdate",value:function(){var e=this.props.character,t=e.data,a=e.fetched,c=e.isLoaded,r=this.state.pageTitle;a&&c&&!r.match(t.name)&&this.setPageTitleState("".concat(t.name," | ").concat(r))}},{key:"__renderHeaderTags",value:function(){var e=this.state.pageTitle;return Object(F.jsx)(O.a,{children:Object(F.jsx)("title",{children:e})})}},{key:"loadCharacter",value:function(){var e=this.props.match.params.id;this.props.getCharacter(e)}},{key:"__renderCharacter",value:function(){var e=this.props.character.data;return Object(F.jsx)(G,{character:e})}},{key:"render",value:function(){var e=this.props.character,t=e.data,a=e.fetched,c=e.isLoaded,r=null;if(a&&c){if(!t)return Object(F.jsx)(s.a,{to:"/404"});r=Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(F.jsxs)("div",{className:"card",children:[Object(F.jsx)("div",{className:"card-header",children:Object(F.jsxs)("div",{className:"card-title",children:[t.name," | Characters",Object(F.jsx)("div",{className:"float-right",children:Object(F.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(F.jsx)("div",{className:"card-body",children:Object(F.jsx)("div",{className:"card-text",children:this.__renderCharacter()})}),Object(F.jsx)("div",{className:"card-footer",children:Object(F.jsx)("a",{href:"/",className:"btn btn-default",children:Object(F.jsx)(v.a,{icon:x.a})})})]})})})}else r=!a&&c?Object(F.jsx)("div",{children:"Unknown error encountered"}):Object(F.jsx)(z,{});return Object(F.jsxs)(F.Fragment,{children:[this.__renderHeaderTags(),r]})}}]),a}(i.Component),K=Object(f.b)((function(e){return{character:e.character}}),(function(e){return{getCharacter:function(t){return e(function(){var e=Object(g.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(B);a(91);var V=a(52),W=a.n(V),$=function(){function e(){Object(u.a)(this,e),this._headers={Accept:"application/json"},this._url=D,this.getComics().then((function(e){console.log(e.data.data)})).catch((function(e){throw console.log(e),e}))}return Object(b.a)(e,[{key:"getComics",value:function(e){var t=new URL("".concat(this._url,"/comics"));if(null!==e&&"object"===typeof e&&Object.keys(e).length)for(var a in e){var c=e[a];t.searchParams.append(a,c)}return W.a.get(t.href,{headers:this._headers})}}]),e}(),Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).pageTitle="Home | ".concat(U),e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=H("page")?Number.parseInt(H("page")):1;this.loadCharacters(e),console.log(new $)}},{key:"loadCharacters",value:function(e){this.props.getCharacters(e)}},{key:"__renderHeaderTags",value:function(){return Object(F.jsx)(O.a,{children:Object(F.jsx)("title",{children:this.pageTitle})})}},{key:"__renderCharacters",value:function(){var e=this.props.characters.data;return e&&"object"===typeof e&&null!==e&&void 0!==e.results&&e.results.length?e.results.map((function(e,t){return Object(F.jsx)(G,{character:e,showShortData:!0},t)})):Object(F.jsx)("p",{children:"No results to display your query."})}},{key:"render",value:function(){var e=this.props.characters,t=e.data,a=e.fetched,c=e.isLoaded,r=null;return r=a&&c?Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(F.jsxs)("div",{className:"card",children:[Object(F.jsx)("div",{className:"card-header",children:Object(F.jsxs)("div",{className:"card-title",children:["Home",Object(F.jsx)("div",{className:"float-right",children:Object(F.jsx)("a",{href:"/search",className:"btn btn-default btn-sm",children:"Form Search"})})]})}),Object(F.jsx)("div",{className:"card-body",children:Object(F.jsx)("div",{className:"card-text",children:this.__renderCharacters()})}),Object(F.jsx)("div",{className:"card-footer",children:Object(F.jsx)(I,{data:t})})]})})}):!a&&c?Object(F.jsx)("div",{children:"Unknown error encountered"}):Object(F.jsx)(z,{}),Object(F.jsxs)(F.Fragment,{children:[this.__renderHeaderTags(),r]})}}]),a}(i.Component),X=Object(f.b)((function(e){return{characters:e.characters}}),(function(e){return{getCharacters:function(t){return e(function(){var e=Object(g.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Q),Y=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var c=arguments.length,r=new Array(c),n=0;n<c;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={giphyImageUrl:null},e.getGiphyImage=Object(g.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/random?api_key=".concat(L)).then((function(e){return e.json()})).then((function(e){return console.log(e.data),e.data.images.original.url})).catch((function(e){return!1}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGiphyImage();case 2:t=e.sent,this.setGiphyImage(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setGiphyImage",value:function(e){this.setState({giphyImageUrl:e})}},{key:"render",value:function(){var e=Z.container,t=this.state.giphyImageUrl;return null===t?Object(F.jsx)(z,{}):Object(F.jsx)("div",{className:"container",style:e,children:Object(F.jsxs)("div",{className:"text-center",children:[Object(F.jsx)("h2",{children:"Oops, page not found"}),t?Object(F.jsx)("img",{src:t,alt:"404_image"}):Object(F.jsx)("div",{})]})})}}]),a}(l.a.Component),Z={container:{marginTop:100}},ee=Y,te=(a(111),function(){return Object(F.jsx)("footer",{className:"footer",children:Object(F.jsxs)("div",{className:"container text-center footer-text",children:[U," \xa9 ",2022,"\xa0",Object(F.jsx)("a",{target:"_blank",href:"https://github.com/kkamara/mrvl",children:"Github"})]})})}),ae=a.p+"static/media/marvel-moving.e4ed4a95.gif",ce=(a(112),{header:{marginTop:30}}),re=function(){return Object(F.jsxs)("header",{className:"header",style:ce.header,children:[Object(F.jsx)("div",{className:"container text-left",children:Object(F.jsx)("img",{className:"header-img",src:ae,alt:"marvel-moving.gif",onClick:function(){window.location.href="/"}})}),Object(F.jsxs)("nav",{className:"container nav-container",children:[Object(F.jsx)("a",{className:"btn btn-warning btn-lg",href:"/",children:"Home"}),Object(F.jsx)("a",{className:"btn btn-warning btn-lg",href:"/favs",children:"Favourites"}),Object(F.jsx)("a",{className:"btn btn-warning btn-lg",href:"/404",children:"404 page"})]})]})},ne=(a(113),function(){return Object(F.jsx)("div",{id:"app",children:Object(F.jsx)(n.a,{children:Object(F.jsxs)(i.Fragment,{children:[Object(F.jsx)(re,{}),Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{path:"/",exact:!0,component:X}),Object(F.jsx)(s.b,{path:"/favs",exact:!0,component:q}),Object(F.jsx)(s.b,{path:"/characters/:id",exact:!0,component:K}),Object(F.jsx)(s.b,{path:"/404",exact:!0,component:ee}),Object(F.jsx)(s.a,{to:"/404"})]}),Object(F.jsx)(te,{})]})})})}),se=a(22),ie={data:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!1});case w:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case S:return Object(h.a)(Object(h.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},oe={data:!1},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!1});case _:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case R:return Object(h.a)(Object(h.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},he={data:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!1});case E:return Object(h.a)(Object(h.a)({},e),{},{fetched:!1,isLoaded:!0,error:t.payload});case A:return Object(h.a)(Object(h.a)({},e),{},{fetched:!0,isLoaded:!0,data:t.payload})}return e},ue=Object(se.b)({searchCharacters:le,characters:de,character:je}),be=a(53),pe=(a(114),Object(se.a)(be.a)),me=Object(se.c)(ue,pe);r.a.render(Object(F.jsx)(f.a,{store:me,children:Object(F.jsx)(ne,{})}),document.getElementById("root"))},91:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.418a6dc8.chunk.js.map